<?php/** * @package Ui_Crafts_Headers *//** * base class for filters */class Ui_Crafts_Headers_Lens extends Ui_Crafts_Header{		public $totalItems;	public $loadedItems;		public $offset = 0;	public $limit = 0;	public $label = "";	public $query = "";		protected $_filters = "";		public function __construct( $properties = array() ){		foreach( $properties as $key => $value ){			$this->$key = $value;		}		$this->_init();	}		protected function _init(){			}		public function __toString(){		$this->offset = Dnst_Filter::read()->offset;		$this->limit = Dnst_Filter::read()->limit;				$hasLeftOffset  = $this->offset > 0;		$hasRightOffset = $this->offset + $this->limit < $this->totalItems;				return '		<div class="grid_24 alpha omega">			<div class="grid_1 prefix_1 margin_1 alpha">			  '.( $hasLeftOffset === false ?'':				// left fast-forward  offset				'<a href="'.$_SERVER['REFERRER_URI'].'?'.Dnst_Filter::setProperty( 'offset', 0 ).'"					title="'.I18n_Json::get('topResults').'"					class="lens-filter tip-helper">					<img src="'.Anta_Core::getBase().'/images/arrow-fast-left.png">				 </a>'			  ).'&nbsp;			  </div>			  <div class="grid_1 margin_1">			  '.( $hasLeftOffset === false ?'':				// left offset				'<a href="'.$_SERVER['REFERRER_URI'].'?'.Dnst_Filter::setProperty( 'offset', max( 0, $this->offset - $this->limit ) ).'"					title="'.I18n_Json::get('previousResults').'"					class="lens-filter tip-helper">					<img src="'.Anta_Core::getBase().'/images/arrow-left.png">				 </a>'			  ).'&nbsp;			</div>			<div class="grid_18 margin_1">				'.$this->loadedItems.' '.$this->label.' over '.$this->totalItems.' ,					'.I18n_Json::get( "records" ).' <b>'.( $this->offset + 1 )." - ".min( $this->offset + $this->limit, $this->totalItems ).' </b>					'.$this->query.'			</div>						<div class="grid_1 margin_1">			  '.( $hasRightOffset === false ?'&nbsp;':				// left offset				'<a href="'.$_SERVER['REFERRER_URI'].'?'.Dnst_Filter::setProperty( 'offset', $this->offset + $this->limit ).'"					title="'.I18n_Json::get('nextResults').'"					class="lens-filter tip-helper">					<img src="'.Anta_Core::getBase().'/images/arrow-right.png">				 </a>'			    ).'			</div>			<div class="grid_1 margin_1 omega">			  '.( $hasRightOffset === false ?'&nbsp;':				// left offset				'<a href="'.$_SERVER['REFERRER_URI'].'?'.Dnst_Filter::setProperty( 'offset', $this->totalItems - $this->limit ).'"					title="'.I18n_Json::get('lastResults').'"					class="lens-filter tip-helper">					<img src="'.Anta_Core::getBase().'/images/arrow-fast-right.png">				 </a>'			    ).'			</div>						</div>		<div class="grid_24 alpha omega craft-header-fields" style="padding-bottom: 6px">			'.$this->_filters.'		</div>';	}}?>